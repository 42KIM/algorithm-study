# [ Recursion, 재귀 ]

#### 설명

재귀는 하나의 함수에서 자기 자신을 다시 호출해 작업을 수행하는 알고리즘이다.  

재귀는 큰 목표 작업 하나를 동일하면서 간단한 작업 여러 개로 나눌 수 있을 때 유용한 프로그래밍 패턴이다. 또한 목표 작업을 간단한 동작 하나와 이를 변형한 작업으로 단순화시킬 수 있을 대도 재귀를 사용할 수 있다.



#### 진행 순서

재귀 함수는 **베이스**(base condition)와 **재귀 단계**(recursion step)으로 구분된다. 

1. 베이스
   : 재귀 함수는 반드시 특정 입력에 대해서는 자기 자신을 호출하지 않고 종료되어야 한다. 그렇지 않으면 함수 호출이 무한히 반복되어 런타임 에러가 발생한다. 이 조건을 base condition, base case라고 한다.
2. 재귀 단계
   : 재귀 단계에서는 함수를 명확하게 정의해야 한다. 이는 **함수의 인자로 어떤 것을 받을지**, **어디까지 계산한 후 자기 자신에게 넘겨줄지**를 의미한다.
3. 함수 내부에서 중첩 호출이 발생하면 다음과 같은 절차가 수행된다.
   - 현재 함수의 실행이 일시 중지된다.
   - 중첩 호출된 함수가 실행된다.
   - 중첩 호출 실행이 끝나면, 일시 중단되었던 함수의 실행을 다시 이어간다.



#### 특징

- 재귀는 **귀납적 방식**으로 문제를 해결하겠다는 뜻이다. 일반적인 알고리즘 풀이에서는 주로 문제 해결 과정을 단계별로 하나하나 따라가는 '절차지향적 사고'가 이뤄지는데 이와 구분해야 한다.

  > 귀납적 추론?
  >
  > 1. func(1)은 1을 출력한다.
  > 2. func(k)는 k부터 1까지 차례로 출력한다.
  >
  > 위의 두 명제를 바탕으로 'func(k+1)이 k+1부터 1까지 차례로 출력한다'라는 사실을 추론할 수 있어야 한다.

+ 모든 재귀 함수는 재귀 구조 없이 반복문만으로도 동일한 동작을 하는 함수를 만들 수 있다. 따라서 반복문보다 메모리와 시간적 손해를 발생시키는 재귀를 무조건 선호할 필요는 없다.
+ 대신 재귀를 사용하면 코드가 짧아지고, 코드 이해도가 높아지며, 유지보수에도 이점이 있다.
+ 자바스크립트의 **실행 컨텍스트**(execturion context)와 **스택**(stack)에 대한 이해가 중요하다.
  - 재귀 깊이 (recursion depth)
    : 가장 처음 하는 호출을 포함한 중첩 호출의 최대 개수를 재귀 깊이라고 한다. 자바스크립트 엔진은 최대 재귀 깊이를 제한한다(약 만 개 ~ 십만 개). 재귀 깊이는 스택에 들어가는 실행 컨텍스트 수의 최댓값과 같다.

